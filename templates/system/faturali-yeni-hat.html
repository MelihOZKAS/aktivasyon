{% extends 'base.html' %}
{% load static %}


<!-- MNT System-->

{% block content %}
    <!DOCTYPE html>
    <html>
    <head>
        <title>Yeni Faturali Hat Açılışı</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    </head>
    <body>
    <div class="container mt-5">
        <h1 class="text-center">Yeni Faturali Hat Açılışı</h1>
        <form method="POST" action="{% url 'faturali-yeni-hat' %}" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="mb-3">
                <label for="kimlikTipi" class="form-label">Kimlik Tipi</label>
                <select class="form-select" id="kimlikTipi" name="kimlik_tipi" onchange="toggleContent()" required>
                    <option value="bos">Lütfen Kimlik Tipi Seçiniz.!</option>
                    <option value="turk">Türk Kimlik Kartı</option>
                    <option value="yabanci">Yabanci Geçiçi Kimlik Kartı</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="isim" class="form-label">İsim</label>
                <input type="text" class="form-control" id="isim" name="isim" required>
            </div>
            <div class="mb-3">
                <label for="soyisim" class="form-label">Soyisim</label>
                <input type="text" class="form-control" id="soyisim" name="soyisim" required>
            </div>
            <div class="mb-3">
                <label for="tc" class="form-label">TC</label>
                <input type="text" class="form-control" id="tc" name="tc" required>
            </div>
            <div class="mb-3">
                <label for="numara" class="form-label">Irtibat Numarası</label>
                <input type="text" class="form-control" id="numara" name="irtibat" required>
            </div>
            <div class="mb-3">
                <label for="operatörü" class="form-label">Operatörü</label>
                <select class="form-select" id="operatoru" name="operatoru" required>
                    <option value="Turkcell">Turkcell</option>
                    <option value="Avea">Avea</option>
                    <option value="Vodafone">Vodafone</option>
                </select>
            </div>


            <div id="tarifeTurk" style="display: none;">
                <div class="mb-3">
                    <label for="tarifeTurk" class="form-label">Tarife (Türk)</label>
                    <select class="form-select" id="tarifeTurk" name="tarifeTurk">
                        <option value="">Lütfen Tarife Seçiniz</option>
                        {% for tarife in form.tarifeTurk.field.queryset %}
                            <option value="{{ tarife.id }}">{{ tarife.ad }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div id="tarifeYabanci" style="display: none;">
                <div class="mb-3">
                    <label for="tarifeYabanci" class="form-label">Tarife (Yabancı)</label>
                    <select class="form-select" id="tarifeYabanci" name="tarifeYabanci">
                        <option value="">Lütfen Tarife Seçiniz</option>
                        {% for tarife in form.tarifeYabanci.field.queryset %}
                            <option value="{{ tarife.id }}">{{ tarife.ad }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>


            <script>
                function toggleContent() {
                    var kimlikTipi = document.getElementById("kimlikTipi").value;
                    var tarifeTurk = document.getElementById("tarifeTurk");
                    var tarifeYabanci = document.getElementById("tarifeYabanci");

                    if (kimlikTipi === "turk") {
                        tarifeTurk.style.display = "block";
                        tarifeYabanci.style.display = "none";
                    } else if (kimlikTipi === "yabanci") {
                        tarifeTurk.style.display = "none";
                        tarifeYabanci.style.display = "block";
                    }
                }
            </script>


            <div class="mb-3">
                <label for="aks" class="form-label">Anne Kızlık Soy Ismi</label>
                <input type="text" class="form-control" id="aks" name="aks" required>
            </div>
            <div class="mb-3">
                <label for="simno" class="form-label">Sim Kart Numarası</label>
                <input type="text" class="form-control" id="simno" name="simno" required>
            </div>
            <div class="mb-3">
                <label for="adres" class="form-label">Adres</label>
                <input type="text" class="form-control" id="adres" name="adres" required>
            </div>

            <div class="mb-3">
                <label for="kimlik_ön" class="form-label">Kimlik Ön / Yabanci Geçiçi Kimlik Kartı Ön</label>
                <input type="file" class="form-control" id="kimlik_ön" name="kimlik_on" accept="image/png, image/jpeg"
                       required>
            </div>
            <div class="mb-3">
                <label for="kimlik_arka" class="form-label">Kimlik Arka / Yabanci Geçiçi Kimlik Kartı Arka</label>
                <input type="file" class="form-control" id="kimlik_arka" name="kimlik_arka"
                       accept="image/png, image/jpeg" required>
            </div>

            <div class="mb-3">
                <label for="ikametgah" class="form-label">İkametgah</label>
                <input type="file" class="form-control" id="ikametgah" name="ikametgah" accept="application/pdf"
                       required>
            </div>

            <button type="submit" class="btn btn-success">Gönder</button>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    </html>


{% endblock content %}
